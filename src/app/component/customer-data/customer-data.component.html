<div class="container mt-4">
  <div class="row">
    <div class="col-md-12">
      <div class="card shadow-sm p-3">

        <!-- Search Input & Page Size Selector -->
        <div class="d-flex justify-content-between align-items-center mb-3">
          <input class="form-control w-50" (keyup)="applyFilter($event)" placeholder="Search">
          
          <div class="d-flex align-items-center">
            <label for="page-size" class="me-2 fw-bold">Page Size:</label>
            <select id="page-size" class="form-select w-auto" [(ngModel)]="pageSize" (change)="updatePageSize()">
              <option *ngFor="let size of pageSizeOptions" [value]="size">{{ size }}</option>
            </select>
          </div>
        </div>

        <!-- Data Table -->
        <div class="table-responsive">
          <table mat-table [dataSource]="meeting_request_data" class="table table-bordered table-hover">
            
            <!-- Serial Number Column -->
            <ng-container matColumnDef="sn">
              <th mat-header-cell *matHeaderCellDef class="text-center"> S.No. </th>
              <td mat-cell *matCellDef="let data; let i = index" class="text-center"> {{ i + 1 }} </td>
            </ng-container>

            <!-- Customer Name Column -->
            <ng-container matColumnDef="customer_name">
              <th mat-header-cell *matHeaderCellDef> Customer Name </th>
              <td mat-cell *matCellDef="let data"> {{ data.customer_name }} - {{data.customer_name_hindi}}</td>
            </ng-container>

            <!-- Fathers Name Column -->
            <ng-container matColumnDef="fathers_name">
              <th mat-header-cell *matHeaderCellDef> Father's Name </th>
              <td mat-cell *matCellDef="let data"> {{ data.customer_fathers_name }} - {{data.customer_fathers_name_hindi}}</td>
            </ng-container>

            <!-- Contact Number Column -->
            <ng-container matColumnDef="number">
              <th mat-header-cell *matHeaderCellDef> Contact Number </th>
              <td mat-cell *matCellDef="let data"> {{ data.customer_contact_number }} </td>
            </ng-container>

            <!-- Credit Amount Column -->
            <ng-container matColumnDef="amount">
              <th mat-header-cell *matHeaderCellDef> Credit Amount </th>
              <td mat-cell *matCellDef="let data"> {{ data.credit_amount }} </td>
            </ng-container>

            <!-- Header & Row Definitions -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </div>

        <!-- Paginator -->
        <div class="d-flex justify-content-end mt-3">
          <mat-paginator [pageSize]="2" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
        </div>

      </div>
    </div>
  </div>
</div>
